<div class="modal-header">
    <h4 class="modal-title">Add area</h4>
</div>

<div class="modal-body">
    <div class="panel panel-default">
        <div class="panel-heading">
            Select method to define area
        </div>
        <div class="panel-body">
            <div ng-show="step == 'default'">
                <span>Interact with the map</span>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="drawBoundingBox">Draw bounding
                        box
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="drawPolygon">Draw polygon
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="drawPointRadius">Draw point and
                        radius
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area"
                               value="pointOnLayer">Select area from polygonal layer
                    </label>
                </div>

                <span>Searching</span>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area"
                               value="addressRadius">Radius centered on street address
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="pointRadius">Create radius from
                        point
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="gazetteer">Gazetteer polygon
                    </label>
                </div>

                <span>Preset areas</span>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="preset_World">World
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="preset_Australia">Australia
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="preset_Current_extent">Current
                        extent
                    </label>
                </div>

                <span>Import</span>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" value="importShapefile">Import Shapefile
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" value="importKML">Import KML
                    </label>
                </div>

                <span>Other</span>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area"
                               value="environmentalEnvelope">Define environmental envelope
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" name="addArea_area" value="wkt">Enter area coordinates (WKT)
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio" ng-model="area" value="mergeMapAreas">Merge map areas (TODO)
                    </label>
                </div>
            </div>

            <div ng-show="step == 'addressRadius'">
                <div class="row padding-bottom-5">
                    <label class="col-sm-4">Search address</label>
                    <google-places location="location" area="selectedArea.name" class="col-sm-6"></google-places>
                </div>
                <div class="row">
                    <label for="radius" class="col-sm-4">Radius (km)</label>
                    <input id="radius" ng-model="circle.radius" class="col-sm-2">
                </div>
            </div>

            <div ng-show="step == 'pointRadius'">
                <div class="row padding-bottom-5">
                    <div class="col-sm-6">
                        <label class="col-sm-4">Area name</label>
                        <input ng-model="selectedArea.name">
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-5" for="radius2">Radius (km)</label>
                        <input id="radius2" ng-model="circle.radius" type="number">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <label class="col-sm-4" for="longitude">Longitude</label>
                        <input type="number" min='-180' max="180" id="longitude" ng-model="circle.longitude">
                    </div>
                    <div class="col-sm-6">
                        <label class="col-sm-5" for="latitude">Latitude</label>
                        <input type="number" min='-90' max="90" id="latitude" ng-model="circle.latitude">
                    </div>
                </div>
            </div>

            <div ng-show="step == 'gazetteer'">
                <div class="row  padding-bottom-5">
                    <div class="col-sm-12">
                        <label class="col-sm-4" for="gazAutoComplete">Search gazetteer</label>
                        <input gaz-auto-complete id="gazAutoComplete" on-custom="setPid" userobjects="false">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <label class="col-sm-4" for="locationRadius">Location radius (km)</label>
                        <input type="number" id="locationRadius" ng-model="locationRadius" value="10">
                    </div>
                </div>
            </div>

            <div ng-show="step == 'importShapefile' || step == 'importKML'">
                <div class="row">
                    <div class="col-sm-4">
                        <label for="myAreaName">Area Name</label>
                    </div>
                    <div class="col-sm-4">
                        <input type="text" style="width:50%" id="myAreaName" ng-model="myAreaName" value="My Area">
                    </div>
                    <div class="col-sm-4">
                        <button class="btn btn-primary" ngf-select="uploadFile($file)">Import file</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <uib-progressbar animate="false" value="uploadProgress" type="success">
                            <b>{{uploadProgress}}%</b></uib-progressbar>
                    </div>
                </div>

                <div ng-show="step == 'importShapefile'">
                    <table class="table table-bordered table-striped">
                        <thead>
                        <tr>
                            <td align="center"><input type="checkbox" ng-click="toggleAllAreaCheckbox()"
                                                      ng-model="checkAll"></td>
                            <td ng-repeat="header in areaHeader">
                                <a href="#" ng-click="sortType = header">
                                    {{header}}
                                </a></td>
                        </tr>
                        </thead>
                        <tbody style="height:200px;overflow:scroll;">
                        <tr><img ng-src="{{shpImg}}" alt="No image"/></tr>
                        <tr ng-repeat="area in areaList">
                            <td align="center"><input type="checkbox" ng-click="selectShpArea()"
                                                      ng-model="area.selected"></td>
                            <td ng-repeat="header in areaHeader">
                                {{area.values[header]}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>


            <div ng-show="step == 'wkt'">
                <div class="row  padding-bottom-5">
                    <div class="col-sm-12">
                        <label class="col-sm-4">Area name</label>
                        <input ng-model="selectedArea.name">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <label class="col-sm-4">WKT</label><textarea ng-model="selectedArea.wkt"
                                                                     class="col-sm-8 input-lg"></textarea>
                    </div>
                </div>
            </div>

            <div ng-show="step == 'importShapefile'">
                <table class="table table-bordered table-striped">
                    <thead>
                    <tr>
                        <td align="center"><input type="checkbox" ng-click="toggleAllAreaCheckbox()"
                                                  ng-model="checkAll"></td>
                        <td ng-repeat="header in areaHeader">
                            <a href="#" ng-click="sortType = header">
                                {{header}}
                            </a></td>
                    </tr>
                    </thead>
                    <tbody style="height:200px;overflow:scroll;">
                    <tr><img ng-src="{{shpImg}}" alt="No image"/></tr>
                    <tr ng-repeat="area in areaList">
                        <td align="center"><input type="checkbox" ng-click="selectShpArea()" ng-model="area.selected">
                        </td>
                        <td ng-repeat="header in areaHeader">
                            {{area.values[header]}}
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="modal-footer">
    <button class="btn btn-default" type="button" ng-click="step = 'default'">< Back</button>
    <button class="btn btn-default" type="button" ng-click="cancel()">Cancel</button>
    <button class="btn btn-primary" type="button" ng-click="ok()" ng-disabled="isDisabled()">Next ></button>
</div>